---
sidebar_position: 2
title: Configuration
---

# Configuration Reference

Bloom uses two configuration files: workspace config and user config.

## Workspace Configuration

### bloom.config.yaml

Located in the workspace root. Created by `bloom init`.

```yaml
repos:
  - url: git@github.com:myorg/backend.git
    name: backend
  - url: git@github.com:myorg/frontend.git
    name: frontend
  - url: https://github.com/myorg/shared.git
    name: shared
```

### Properties

#### repos

List of repositories in the workspace.

```yaml
repos:
  - url: <git-url>
    name: <local-name>
```

| Property | Type | Description |
|----------|------|-------------|
| `url` | string | Git clone URL (SSH or HTTPS) |
| `name` | string | Local directory name |

### Management

Repositories are automatically added when you run `bloom repo clone`:

```bash
bloom repo clone myorg/backend
# Adds entry to bloom.config.yaml
```

Manual editing is also supported:

```yaml
repos:
  - url: git@github.com:myorg/new-repo.git
    name: new-repo
```

Then sync:

```bash
bloom repo sync
```

## User Configuration

### ~/.bloom/config.yaml

Global user settings. Created on first use.

```yaml
git_protocol: ssh
```

### Properties

#### git_protocol

Preferred protocol for repository URLs.

```yaml
git_protocol: ssh    # git@github.com:org/repo.git
git_protocol: https  # https://github.com/org/repo.git
```

- **Type:** `enum`
- **Values:** `ssh`, `https`
- **Default:** Prompted during `bloom init`

### Management

View current config:

```bash
bloom config
```

Change protocol:

```bash
bloom config set-protocol ssh
bloom config set-protocol https
```

## Project Files

### PRD.md

Product Requirements Document. Template from `template/PRD.md`.

Recommended sections:
- Overview
- Problem Statement
- Requirements (Functional, Non-Functional)
- Technical Constraints
- Success Criteria
- Out of Scope

### plan.md

Implementation plan. Generated by `bloom plan`.

Contains:
- Phases
- Steps within phases
- Dependencies
- Technical details

### CLAUDE.md

Guidelines for AI agents. Template from `template/CLAUDE.template.md`.

Recommended sections:
- Code Standards
- Architecture Overview
- Testing Requirements
- Git Practices

### tasks.yaml

Task definitions. Generated by `bloom generate`.

See [Task Schema](/reference/task-schema) for full reference.

## Template Files

Located in `template/` directory.

### template/PRD.md

Template for new project PRDs.

```markdown
# [Project Name]

## Overview
[Description]

## Requirements
- [ ] Requirement 1

## Success Criteria
- [ ] Criterion 1
```

### template/plan.md

Template for implementation plans.

```markdown
# Implementation Plan

## Phase 1: [Name]

### 1.1 [Step]
- Detail 1
- Detail 2
```

### template/CLAUDE.template.md

Template for agent guidelines. Becomes `CLAUDE.md` in projects.

```markdown
# Project Guidelines

## Code Style
[Standards]

## Testing
[Requirements]
```

## Directory Structure

### Workspace

```
my-workspace/
├── bloom.config.yaml      # Workspace config
├── repos/                  # Repositories
│   ├── backend.git/       # Bare repo
│   ├── backend/           # Default worktree
│   └── backend-feature-x/ # Feature worktree
├── template/              # Project templates
│   ├── PRD.md
│   ├── plan.md
│   └── CLAUDE.template.md
└── my-project/            # Project directory
    ├── PRD.md
    ├── plan.md
    ├── CLAUDE.md
    └── tasks.yaml
```

### User Config

```
~/.bloom/
└── config.yaml            # User settings
```

## Defaults

| Setting | Default |
|---------|---------|
| Git protocol | Prompted on init |
| Task status | `todo` |
| Agent | `claude-code` |
| Worktree | Repository default branch |

## Validation

### Workspace Config

Must have valid YAML syntax. Repos must have `url` and `name`.

### Task File

Run validation:

```bash
bloom validate
```

Checks:
- YAML syntax
- Required fields
- Unique IDs
- Valid dependencies
- No circular references
